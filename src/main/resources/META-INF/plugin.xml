<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <id>com.tcubedstudios.angularstudio</id>
    <name>Angular Studio</name>
    <vendor>tCubed Studios</vendor>

    <change-notes><![CDATA[
        0.1.3
        <ul>
            <li>TODO</li>
        </ul>

        0.1.2
        <ul>
            <li>TODO</li>
            <li>TODO</li>
        </ul>

        0.1.1
        <ul>
            <li>TODO</li>
        </ul>
        ]]></change-notes>

    <depends>com.intellij.modules.platform</depends>
<!--    <depends>com.intellij.modules.ultimate</depends>-->
    <depends>org.jetbrains.plugins.terminal</depends>
    <depends>JavaScript</depends>
    <depends>org.jetbrains.plugins.sass</depends>
    <depends>AngularJS</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationConfigurable id="angularstudio.base"
                                 instance="com.tcubedstudios.angularstudio.shared.settings.AngularStudioSettingsConfigurable"
                                 bundle="messages.MyBundle"
                                 groupId="tools"/>

        <applicationService serviceImplementation="com.tcubedstudios.angularstudio.terminal.settings.TerminalSettings"/>
        <applicationConfigurable id="angularstudio.terminal"
                                 instance="com.tcubedstudios.angularstudio.terminal.settings.TerminalSettingsConfigurable"
                                 dynamic="true"
                                 bundle="messages.MyBundle"
                                 groupId="angularstudio.base"/>

        <applicationService serviceImplementation="com.tcubedstudios.angularstudio.angular.settings.NewWorkspaceSettings"/>
        <applicationConfigurable id="angularstudio.newworkspace"
                                 instance="com.tcubedstudios.angularstudio.angular.settings.NewWorkspaceSettingsConfigurable"
                                 bundle="messages.MyBundle"
                                 groupId="angularstudio.base"
                                 dynamic="true"/>

        <treeStructureProvider implementation="com.tcubedstudios.angularstudio.angular.navigation.projectview.AngularTreeStructureProvider"/>
        <toolWindow id="Embedded Web Browser" anchor="right" factoryClass="com.tcubedstudios.angularstudio.browsers.toolwindows.BrowserWindowFactory"/>
    </extensions>

    <actions>
        <action id="com.tcubedstudios.angularstudio.terminal.actions.OpenTerminal"
                class="com.tcubedstudios.angularstudio.terminal.actions.OpenProjectDirectoryAction"
                text="Terminal"
                description="Open the project directory in external terminal"
                icon="/icons/terminal.png">
<!--            icon="Icons.TERMINAL_ICON-->
            <add-to-group group-id="MainToolBar" anchor="last"/>
            <add-to-group group-id="NavBarToolBar" anchor="first"/>
            <add-to-group group-id="RightToolbarSideGroup" anchor="first"/>
        </action>
        <action id="com.tcubedstudios.angularstudio.terminal.actions.OpenInTerminal"
                class="com.tcubedstudios.angularstudio.terminal.actions.OpenSelectedDirectoryAction"
                text="Open in External Terminal"
                description="Open current file location in external terminal"
                icon="/icons/terminal.png">
<!--            icon="Icons.TERMINAL_ICON"-->
            <!--<add-to-group group-id="ProjectViewPopupMenu" anchor="after"-->
            <!--relative-to-action="ProjectViewPopupMenuRunGroup"/>-->
                <add-to-group group-id="RunContextPopupGroup" anchor="before" relative-to-action="OpenInBrowser"/>
        </action>
        <action id="com.tcubedstudios.angularstudio.terminal.actions.OpenInLocalTerminal"
                class="com.tcubedstudios.angularstudio.terminal.actions.RunCommandInLocalTerminalAction"
                text="Open in Local Terminal"
                description="Open in local terminal">
            <!--<add-to-group group-id="ProjectViewPopupMenu" anchor="after"-->
            <!--relative-to-action="ProjectViewPopupMenuRunGroup"/>-->
            <add-to-group group-id="RunContextPopupGroup" anchor="after" relative-to-action="Terminal.OpenInTerminal"/>
        </action>
        <action id="com.tcubedstudios.angularstudio.terminal.actions.SetAsDefaultDirectoryAction"
                class="com.tcubedstudios.angularstudio.terminal.actions.SetAsDefaultDirectoryAction"
                text="Set as Default Directory for External Terminal"
                description="Set current directory location as the default path for external terminal">
            <add-to-group group-id="RunContextPopupGroup" anchor="last"/>
        </action>
        <action id="com.tcubedstudios.angularstudio.ide.tabmanagement.actions.CloseRightAction"
                class="com.tcubedstudios.angularstudio.ide.tabmanagement.actions.CloseRightAction"
                text="Close All Tabs to Right"
                description="Closes the tab to the right of the currently selected tab">
            <add-to-group group-id="EditorTabPopupMenu" relative-to-action="CloseEditorsGroup" anchor="after"/>
        </action>
        <action id="com.tcubedstudios.angularstudio.ide.tabmanagement.actions.CloseLeftAction"
                class="com.tcubedstudios.angularstudio.ide.tabmanagement.actions.CloseLeftAction"
                text="Close All Tabs to Left"
                description="Close tab to the left of the currently selected tab">
                <add-to-group group-id="EditorTabPopupMenu" relative-to-action="CloseEditorsGroup" anchor="after"/>
        </action>
        <action id="com.tcubedstudios.angularstudio.ide.navigation.actions.SwapOpenFileFromToAction"
                class="com.tcubedstudios.angularstudio.ide.navigation.actions.SwapOpenFileFromToAction"
                text="Quick Switch"
                description="Quickly switches between Angular CLI files for on component, e.g. ts, html, css">
            <keyboard-shortcut first-keystroke="alt S" keymap="$default"/>
        </action>
        <action id="com.tcubedstudios.angularstudio.angular.navigation.hoverbuttons.OpenAngularStylesAction"
                class="com.tcubedstudios.angularstudio.angular.navigation.hoverbuttons.OpenAngularStylesAction"
                text="Open Angular Template1">
            <add-to-group group-id="EditorContextBarMenu" anchor="first"/>
        </action>
        <action id="com.tcubedstudios.angularstudio.angular.navigation.hoverbuttons.OpenAngularCodeAction"
                class="com.tcubedstudios.angularstudio.angular.navigation.hoverbuttons.OpenAngularCodeAction"
                text="Open Angular Template2">
            <add-to-group group-id="EditorContextBarMenu" anchor="first"/>
        </action>
        <action id="com.tcubedstudios.angularstudio.angular.navigation.hoverbuttons.OpenAngularTemplateAction"
                class="com.tcubedstudios.angularstudio.angular.navigation.hoverbuttons.OpenAngularTemplateAction"
                text="Open Angular Template3">
            <add-to-group group-id="EditorContextBarMenu" anchor="first"/>
        </action>
        <group id="GenerateComponentGroupFromMainMenu" popup="true" text="Angular Gen from Main">
            <add-to-group group-id="MainMenu"/>
        </group>
        <!--
            Options we want, and will only show if enabled in settings
            1. Right-click on a project -> New -> Generate each schematic under the Angular Plugin Options
                a. Option for gen
                b. Option for gen and show dialog
            2. Right-click on a project -> Angular Studio -> Generate each schematic
                a. Option for gen
                b. Option for gen and show dialog
            3. Right-click on a project -> Flat gen options in their own section with dividers
                a. Option for gen
                b. Option for gen and show dialog
        -->
        <group id="GenerateComponentGroup" popup="true" text="Angular Studio">
            <action id="com.tcubedstudios.angularstudio.angular.generation.GenerateComponentAction"
                    class="com.tcubedstudios.angularstudio.angular.generation.GenerateComponentAction"
                    text="Component"
                    description="Generate an angular component in the current directory using options from settings"
                    icon="AngularJSIcons.Angular2">
            </action>


            <add-to-group group-id="ToolsMenu"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="first"/>
            <add-to-group group-id="MainToolBar" anchor="last"/>
            <add-to-group group-id="NavBarToolBar" anchor="first"/>
            <add-to-group group-id="NewGroup" anchor="after" relative-to-action="angularCliGenerate"/>
        </group>
        <action id="com.tcubedstudios.angularstudio.angular.generation.GenerateComponentDialogAction"
                class="com.tcubedstudios.angularstudio.angular.generation.GenerateComponentDialogAction"
                text="Show Dialog with Options"
                description="Show dialog with options for generating an angular component">
            <add-to-group group-id="GenerateComponentGroup"/>
            <add-to-group group-id="GenerateComponentGroupFromMainMenu"/>
            <add-to-group group-id="MainToolBar" anchor="last"/>
            <add-to-group group-id="NavBarToolBar" anchor="first"/>
            <add-to-group group-id="RightToolbarSideGroup" anchor="first"/>
            <add-to-group group-id="RunContextPopupGroup" anchor="last"/>
            <add-to-group group-id="ProjectViewPopupMenu" relative-to-action="GenerateComponentGroup" anchor="after"/>
        </action>
        <action id="angularStudioCliGenerate"
                class="org.angular2.cli.actions.AngularCliGenerateAction"
                text="Show Angular Generate Dialog"
                description="Show Angular generate dialog (same as 'Angular Schematics...' dialog from Angular Plugin)">
            <add-to-group group-id="GenerateComponentGroup"/>
        </action>
        <!--<action id="com.tcubedstudios.angularstudio.angular.ExpandClassToItsOwnFile"
                class="com.tcubedstudios.angularstudio.angular.ExpandClassToItsOwnFile"
                text="Extract inlined style to its own file"
                description="Extract inlined style to its own file">
            <add-to-group group-id="EditorTabPopupMenu" relative-to-action="CloseEditorsGroup" anchor="after"/>
        </action>-->
        <!--<action id="com.tcubedstudios.angularstudio.angular.InlineStyleWithComponent"
                class="com.tcubedstudios.angularstudio.angular.InlineStyleWithComponent"
                text="Inline extracted style with relevant component"
                description="Inline extracted style with relevant component">
            <add-to-group group-id="EditorTabPopupMenu" relative-to-action="CloseEditorsGroup" anchor="after"/>
        </action>-->
    </actions>
</idea-plugin>
